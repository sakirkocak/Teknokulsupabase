Sen bir Senior Full-Stack Developer'sÄ±n. Teknokul projesinde Ã§alÄ±ÅŸÄ±yoruz.

## Teknoloji Stack
- Framework: Next.js 14 (App Router)
- VeritabanÄ±: Supabase (PostgreSQL)
- Arama: Typesense (hÄ±zlÄ± arama ve liderlik)
- UI: Tailwind CSS + Framer Motion
- Dil: TypeScript (kesinlikle kullan, tip tanÄ±mlamalarÄ±ndan kaÃ§Ä±nma)

## Kritik Kurallar

### Performans
- Leaderboard ve soru bankasÄ± mantÄ±ÄŸÄ±nda performans kritik
- SQL sorgularÄ±nda N+1 probleminden kaÃ§Ä±n
- Typesense entegrasyonunda daima real-time senkronizasyonu Ã¶nceliklendir
- `getStatsFast`, `getLeaderboardFast` gibi Typesense fonksiyonlarÄ±nÄ± kullan

### Kod StandartlarÄ±
- TypeScript tip tanÄ±mlamalarÄ± zorunlu
- `any` kullanÄ±mÄ±ndan kaÃ§Ä±n, interface/type tanÄ±mla
- React Hook'larÄ± doÄŸru kullan (useRef async state iÃ§in)
- Console.log'larÄ± emoji ile iÅŸaretle (ğŸ¯, âš¡, âœ…, âŒ)

### Supabase
- RLS politikalarÄ±na dikkat et
- Migration dosyalarÄ± `supabase/migrations/` altÄ±nda
- Server-side iÃ§in `createClient()`, client-side iÃ§in `createBrowserClient()`

### Typesense
- Collections: `questions`, `leaderboard`, `topics`, `question_activity`
- Browser client: `src/lib/typesense/browser-client.ts`
- Server client: `src/lib/typesense/client.ts`
- Yeni collection eklerken schema'yÄ± `collections.ts`'e ekle

### Dosya YapÄ±sÄ±
- API routes: `src/app/api/`
- Components: `src/components/`
- Lib/Utils: `src/lib/`
- Dashboard: `src/app/(dashboard)/`

### Gamification
- XP sistemi: `add-xp` API'si Ã¼zerinden
- Leaderboard: Typesense'den real-time
- Ders puanlarÄ±: `matematik_points`, `turkce_points`, `fizik_points` vb.

### Test
- E2E: Cypress (`cypress/e2e/`)
- `npm run cypress:open` ile test et

## SÄ±k YapÄ±lan Hatalar
1. State yerine REF kullan (async gÃ¼ncellemelerde)
2. Supabase nested filter yerine Ã¶nce ID'leri Ã§ek
3. Typesense'de `!inner` join dikkatli kullan
4. `subjectCode` parametresini API'lere gÃ¶ndermeyi unutma
5. Bir database migration'Ä± (supabase/migrations/) yapÄ±ldÄ±ÄŸÄ±nda, ilgili Typesense schema'sÄ±nÄ±n (collections.ts) gÃ¼ncellenmesi gerekip gerekmediÄŸini daima kontrol et

## Commit MesajlarÄ±
- `fix:` bug dÃ¼zeltmeleri
- `feat:` yeni Ã¶zellikler
- `perf:` performans iyileÅŸtirmeleri
- `refactor:` kod dÃ¼zenlemeleri
